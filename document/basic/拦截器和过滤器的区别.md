![拦截器和过滤器执行流程](/document/image/拦截器和过滤器.webp)

## 过滤器

- 依赖于Servlet容器。在实现上基于函数回调，可以对几乎所有请求进行过滤
- 缺点是一个过滤器实例只能在容器初始化时调用一次。
- 使用过滤器的目的是用来做一些过滤操作，获取我们想要获取的数据，比如：在过滤器中修改字符编码；在过滤器中修改HttpServletRequest的一些参数，包括：过滤低俗文字、危险字符等

## 拦截器

- 依赖于Web框架，在SpringMVC中就是依赖于SpringMVC框架。在实现上基于Java的反射机制，属于面向切面编程（AOP）的一种运用。
- 由于拦截器是基于Web框架的调用，因此可以使用Spring的依赖注入（DI）进行一些业务操作，同时一个拦截器实例在一个Controller生命周期之内可以多次调用。
- 缺点是只能对Controller请求进行拦截，对其他的一些比如直接访问静态资源的请求则没办法进行拦截处理

## 过滤器和拦截器的区别

1. 拦截器是基于java的反射机制的，而过滤器是基于函数回调。
2. 拦截器不依赖与servlet容器，过滤器依赖与servlet容器。
3. 拦截器只能对action请求起作用，而过滤器则可以对几乎所有的请求起作用。
4. 拦截器可以访问action上下文、值栈里的对象，而过滤器不能访问。
5. 在action的生命周期中，拦截器可以多次被调用，而过滤器只能在容器初始化时被调用一次。
6. 拦截器可以获取IOC容器中的各个bean，而过滤器就不行，这点很重要，在拦截器里注入一个service，可以调用业务逻辑。
7. 过滤器只能在请求的前后使用，而拦截器可以详细到每个方法