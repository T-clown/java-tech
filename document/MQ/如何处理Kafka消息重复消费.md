1. 对于insert的消息
    - 根据业务唯一属性，先查寻，再插入
    - 借助数据库的唯一性约束（唯一索引）

2. 对于update的消息
    - 在消费端可以维护一个已处理消息的记录或缓存，当收到新消息时，先检查该消息是否已经处理过，如果已经处理则跳过
    - 消息中增加一个序列号，如时间戳，发送端生产消息体的时候生成一个序列号，而消费端消费消息的时候判断只有消息的序列号 大于当前数据的序列号时才能消费
    - 发送端发送消息时，生成一个全局ID，并写入redis，消费端拿到消息用这个ID查redis判断是否消费过（跟第一种差不多）